<html>
<head>
<script src="tracking-min.js"></script>
<script src="data/face.js"></script>
</head>
<body>
  <video autoplay playsinline muted id="webcam" width="400" height="300"></video>
<script>
  var objects = new tracking.ObjectTracker(['face']);

  objects.on('track', function (event) {
    if (event.data.length === 0) {
      // No objects were detected in this frame.
      console.log('nothing')
    } else {
      event.data.forEach(function (rect) {
        // rect.x, rect.y, rect.height, rect.width
        console.log('face!', rect)
      });
    }
  });

  tracking.track('#webcam', objects);

  const webcamElement = document.getElementById('webcam');

    const navigatorAny = navigator;
    navigator.getUserMedia = navigator.getUserMedia ||
      navigatorAny.webkitGetUserMedia || navigatorAny.mozGetUserMedia ||
      navigatorAny.msGetUserMedia;
    if (navigator.getUserMedia) {
      navigator.getUserMedia(
        { video: true },
        stream => {
          webcamElement.srcObject = stream;
        },
        error => {
          console.error('oh noes')
        })
    }
</script>
</body>
</html>